# ðŸ“‹ Guia Completo: Converter e Importar QuestÃµes SAA-C03

## 1ï¸âƒ£ CURRENT FORMAT (in JSONs) vs DATABASE FORMAT

### Current Format (data/certifications/SAA-C03/*.json)
```json
{
  "certification": "SAA-C03",
  "domain": "SECURE",
  "questions": [
    {
      "id": "saa-secure-001",
      "question": "...",
      "options": {
        "A": "...",
        "B": "...",
        "C": "...",
        "D": "..."
      },
      "correct": "B",
      "explanation_basic": "...",
      "explanation_detailed": "...",
      "incorrect_explanations": {
        "A": "...",
        "B": "...",
        "C": "...",
        "D": "..."
      },
      "tags": ["Tag1", "Tag2"],
      "difficulty": "medium",
      "tier": "FREE"
    }
  ]
}
```

### Database Format (Supabase)
```json
{
  "id": "saa-secure-001",
  "certification_id": "SAA-C03",
  "domain": "SECURE",
  "question_text": "...",
  "option_a": "...",
  "option_b": "...",
  "option_c": "...",
  "option_d": "...",
  "correct_answer": "B",
  "explanation_basic": "...",
  "explanation_detailed": "...",
  "incorrect_explanations": {
    "A": "...",
    "B": "...",
    "C": "...",
    "D": "..."
  },
  "tags": ["Tag1", "Tag2"],
  "difficulty": "medium",
  "tier": "FREE",
  "active": true
}
```

## 2ï¸âƒ£ MAIN CHANGES

### Fields that change name/structure (Database vs JSON)

| Field in JSON | Field in Database | Type | Notes |
|---|---|---|---|
| `question` | `question_text` | TEXT | Just rename |
| `options.A` | `option_a` | TEXT | Break object into fields |
| `options.B` | `option_b` | TEXT | Break object into fields |
| `options.C` | `option_c` | TEXT | Break object into fields |
| `options.D` | `option_d` | TEXT | Break object into fields |
| `correct` | `correct_answer` | TEXT | Just rename |
| `incorrect_explanations` | `incorrect_explanations` | JSONB | Keep as is |
| â€” | `certification_id` | TEXT | Auto-filled: "SAA-C03" |
| `domain` | `domain` | TEXT | Keep: SECURE, RESILIENT, PERFORMANCE, COST |
| `tags` | `tags` | TEXT[] | Array of strings (IMPORTANT: must include official domain) |
| `difficulty` | `difficulty` | TEXT | 'easy', 'medium', 'hard' |
| `tier` | `tier` | TEXT | 'FREE' or 'PRO' |
| â€” | `active` | BOOLEAN | Auto: true |

### Informational fields (AI generates, script discards)

These fields are generated by AI for **your analysis**, but the script does NOT send them to the database:

| Field | Type | Usage | Example |
|---|---|---|---|
| `domain_analysis` | STRING | Explanation of which domain and why | "SECURE - 30% of exam" |
| `primary_service` | STRING | Primary AWS service | "RDS" |
| `related_services` | ARRAY | Related services | ["ALB", "Auto Scaling"] |
| `official_domain` | STRING | Domain validation | "RESILIENT" |
| `topic` | STRING | Official AWS topic | "Multi-AZ Deployment" |

**â†’ The script ignores these fields, you use them for QA/validation**

## 3ï¸âƒ£ COMPLETE STEP-BY-STEP

### STEP 1: Prepare your questions with AI

âš ï¸ **IMPORTANT**: Before using AI, read the file:
ðŸ“„ `GUIA_DOMINIOS_SAA_C03.md`

This guide contains:
- âœ… Official SAA-C03 domains (SECURE 30%, RESILIENT 26%, PERFORMANCE 24%, COST 20%)
- âœ… Official tags consolidated by service
- âœ… Improved prompt for AI to use
- âœ… Complete example with domain analysis

**Prompt to use with ChatGPT/Claude:**

ðŸ‘‰ **Use the prompt from the file `GUIA_DOMINIOS_SAA_C03.md` (SECTION: IMPROVED AI PROMPT)**

For quick reference, here's the structure:

```
You are an expert certified in AWS SAA-C03.

GENERATE 50 QUESTIONS for the SECURE domain of the SAA-C03 exam.

For EACH question:
1. CREATE a technical and challenging question
2. ANALYZE which domain it belongs to
3. IDENTIFY specific AWS topics
4. ASSIGN 3-5 relevant tags
5. RESPOND in this exact JSON format:

{
  "id": "saa-secure-XXX",
  "question": "Question in English",
  "options": {
    "A": "Option A",
    "B": "Option B (correct)",
    "C": "Option C",
    "D": "Option D"
  },
  "correct": "B",
  "explanation_basic": "Short explanation (1-2 lines) - for FREE users",
  "explanation_detailed": "Detailed explanation (3-5 paragraphs) with AWS references - for PRO users",
  "incorrect_explanations": {
    "A": "Why this is incorrect",
    "B": "Why this is correct (or confirmation)",
    "C": "Why this is incorrect",
    "D": "Why this is incorrect"
  },
  "tags": ["IAM", "S3", "Security"],
  "difficulty": "medium",
  "tier": "FREE"
}

Requirements:
- Use tier "FREE" for 60% of questions, "PRO" for 40%
- Difficulty variation: 30% easy, 50% medium, 20% hard
- Sequential IDs: saa-secure-001, saa-secure-002, ...
- **All questions and answers ALWAYS in ENGLISH**
- Tags must be real AWS services/concepts
```

### STEP 2: Save questions to the correct JSON files

Copy the generated questions and paste them into:
- `data/certifications/SAA-C03/secure.json` (30% of questions)
- `data/certifications/SAA-C03/resilient.json` (26% of questions)
- `data/certifications/SAA-C03/performance.json` (24% of questions)
- `data/certifications/SAA-C03/cost.json` (20% of questions)

**Expected structure:**
```json
{
  "certification": "SAA-C03",
  "domain": "SECURE",  // or RESILIENT, PERFORMANCE, COST
  "questions": [
    { /* first question */ },
    { /* second question */ },
    ...
  ]
}
```

### STEP 3: Convert JSONs to Database format

Run the import script (already exists):

```bash
npm run import-aif
```

This script will:
1. Read the JSONs from `data/certifications/`
2. **CONVERT** automatically to database format
3. **VALIDATE** the data
4. **INSERT** into Supabase

### STEP 4: Verify it worked

Open Supabase Dashboard:
1. Go to: https://app.supabase.com
2. Your project â†’ Table Editor
3. Click on `questions`
4. Check if SAA-C03 questions appear

Or run verification via CLI:

```bash
npm run verify
```

## 4ï¸âƒ£ COMPLETE EXAMPLE

### BEFORE (JSON from your folder)
```json
{
  "certification": "SAA-C03",
  "domain": "SECURE",
  "questions": [
    {
      "id": "saa-secure-042",
      "question": "A company has critical data in S3 that must be encrypted with customer-managed keys. Which approach is CORRECT?",
      "options": {
        "A": "Use SSE-S3 (S3 default encryption)",
        "B": "Use SSE-KMS with AWS Managed Keys",
        "C": "Use SSE-KMS with Customer Managed Keys (CMK) in AWS KMS",
        "D": "Encrypt locally before uploading"
      },
      "correct": "C",
      "explanation_basic": "SSE-KMS with CMK provides full control over encryption keys. You manage rotation, access, and audit the keys.",
      "explanation_detailed": "SSE-KMS with Customer Managed Keys offers maximum control: you manage the key in KMS, control access via IAM policies, monitor usage via CloudTrail, and enable automatic rotation. Ideal for compliance (HIPAA, GDPR, PCI-DSS).",
      "incorrect_explanations": {
        "A": "SSE-S3 uses keys managed by AWS, not by the customer.",
        "B": "AWS Managed Keys are managed by AWS, not providing customer control.",
        "C": "This is the correct answer - CMK = Customer Managed Key",
        "D": "Possible but not best practice. KMS integration is more secure."
      },
      "tags": ["S3", "KMS", "Encryption", "Security", "Compliance"],
      "difficulty": "medium",
      "tier": "PRO"
    }
  ]
}
```

### AFTER (In Supabase)
```json
{
  "id": "saa-secure-042",
  "certification_id": "SAA-C03",
  "domain": "SECURE",
  "question_text": "A company has critical data in S3 that must be encrypted with customer-managed keys. Which approach is CORRECT?",
  "option_a": "Use SSE-S3 (S3 default encryption)",
  "option_b": "Use SSE-KMS with AWS Managed Keys",
  "option_c": "Use SSE-KMS with Customer Managed Keys (CMK) in AWS KMS",
  "option_d": "Encrypt locally before uploading",
  "correct_answer": "C",
  "explanation_basic": "SSE-KMS with CMK provides full control over encryption keys. You manage rotation, access, and audit the keys.",
  "explanation_detailed": "SSE-KMS with Customer Managed Keys offers maximum control: you manage the key in KMS, control access via IAM policies, monitor usage via CloudTrail, and enable automatic rotation. Ideal for compliance (HIPAA, GDPR, PCI-DSS).",
  "incorrect_explanations": {
    "A": "SSE-S3 uses keys managed by AWS, not by the customer.",
    "B": "AWS Managed Keys are managed by AWS, not providing customer control.",
    "C": "This is the correct answer - CMK = Customer Managed Key",
    "D": "Possible but not best practice. KMS integration is more secure."
  },
  "tags": ["S3", "KMS", "Encryption", "Security", "Compliance"],
  "difficulty": "medium",
  "tier": "PRO",
  "active": true,
  "created_at": "2025-11-12T20:20:00Z",
  "updated_at": "2025-11-12T20:20:00Z"
}
```

## 5ï¸âƒ£ FINAL CHECKLIST

- [ ] Generated 50+ questions for SAA-C03
- [ ] Distributed across 4 domains (SECURE 30%, RESILIENT 26%, PERFORMANCE 24%, COST 20%)
- [ ] 60% of questions in FREE tier, 40% in PRO tier
- [ ] Varied difficulty levels (easy, medium, hard)
- [ ] All questions in ENGLISH
- [ ] Relevant and correct tags
- [ ] Sequential IDs without duplicates
- [ ] Detailed explanations filled
- [ ] Explanations for incorrect options (A, B, C, D) complete
- [ ] Saved in correct JSONs at `data/certifications/SAA-C03/`
- [ ] Ran `npm run import-aif`
- [ ] Verified in Supabase Dashboard
- [ ] Tested in app (http://localhost:3000)

## 6ï¸âƒ£ QUICK COMMANDS

```bash
# Install dependencies
npm install

# Import questions
npm run import-aif

# Verify everything is correct
npm run verify

# View example question
npm run show-example

# Start server
npm run dev
```

## â“ FREQUENTLY ASKED QUESTIONS

**Q: How many questions do I need?**
A: Minimum 50 to launch. Ideal 100+. The more, the better the experience.

**Q: Can I use AI to generate?**
A: YES! Use the prompts above. But validate the answers, AI sometimes makes mistakes.

**Q: What if I make a mistake with an ID?**
A: No problem. You can use any unique ID (ex: saa-secure-custom-01)

**Q: Where can I see if it worked?**
A: Supabase Dashboard > questions table, or http://localhost:3000 in the Quiz

**Q: Do I need to populate everything before launching?**
A: No! You can add gradually. The script is modular.

---

**Ready to start? Begin using AI to generate the questions!** ðŸš€
